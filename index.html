<!DOCTYPE html>
<html>
  <meta charset="utf-8">
  <head>
    <script type="text/javascript">
      /***********************************************
        2.1.1
        const, let의 차이
      ************************************************/

      if(true) {
        var x = 3;
      }
      //console.log(x);

      if(true) {
        const y = 3;
      }
      //console.log(y); //Uncaught ReferenceError: y is not defined

      const a = 0;
      //a = 1;  //Uncaught TypeError: Assignment to constant variable.

      let b = 0;
      b = 1;

      //const c;  //Uncaught SyntaxError: Missing initializer in const declaration

      /***********************************************
        2.1.2
        템플릿 문자열
      ************************************************/
      
      //일반적인 ES5 방식
      var num1 = 1;
      var num2 = 2;
      var result = 3;
      var string1 = num1 + ' 더하기 ' + num2 + '는 \'' + result + '\''
      //console.log(string1);

      var num3 = 1;
      var num4 = 2;
      var result2 = 3;
      var string2 = `${num3} 더하기 ${num4}는 '${result2}'`;
      //console.log(string2);

      /***********************************************
        2.1.3
        객체 리터럴
      ************************************************/
      //before
      var sayNode = function() {
        console.log('Node');
      }
      var es = 'ES';
      var oldObject = {
        sayJS: function() {
          console.log('JS');
        },
        sayNode: sayNode,
      };
      oldObject[es + 6] = 'Fantastic';
      oldObject.sayNode();  // Node
      oldObject.sayJS();  // JS
      console.log(oldObject.ES6); // Fantastic

      //after
      const newObject = {
        sayJS() {
          console.log('JS');
        },
        sayNode,
        [es + 6]: 'Fantastic',
      };
      newObject.sayNode();  // Node
      newObject.sayJS();  // JS
      console.log(newObject.ES6); // Fantastic
      
      /***********************************************
        2.1.4
        화살표 함수
      ************************************************/
      function add1(x,y) {
        return x + y;
      }

      const add2 = (x,y) => {
        return x + y;
      }

      const add3 = (x,y) => x + y;

      const add4 = (x,y) => (x + y);

      function not1(x) {
        return !x;
      }

      const not2 = x => !x;

      var relationship1 = {
        name: 'zero',
        friends: ['nero', 'hero', 'xero'],
        logFriends: function() {
          var that = this;  //relationship1을 가리키는 this를 that에 저장
          this.friends.forEach(function(friend) {
            console.log(that.name, friend);
          });
        },
      };
      relationship1.logFriends();

      var relationship2 = {
        name: 'zero',
        friends: ['nero', 'hero', 'xero'],
        logFriends() {
          this.friends.forEach(friend => {
            console.log(this.name, friend);
          });
        },
      };
      relationship2.logFriends();
    </script>
  </head>
  <body>

  </body>
</html>